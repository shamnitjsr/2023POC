package com.shambhu.model;

import java.util.ArrayList;
import java.util.List;

public class ParkingLot {

	List<CompactSpot> compactSpotList = new ArrayList<>();

	List<LargeSpot> largerSpotsList = new ArrayList<>();

	List<BikeSpot> bikeSpotsList = new ArrayList<>();

	int freeCompactSpots;
	int freeLargeSpots;
	int freeBiketSpots;

	public ParkingLot(int freeCompactSpots, int freeLargeSpots, int freeBiketSpots) {
		this.freeCompactSpots = freeCompactSpots;
		this.freeLargeSpots = freeLargeSpots;
		this.freeBiketSpots = freeBiketSpots;
	}

	// parkvehicle

	public void parkVehicle(Vehicle vehicle) {
		System.out.println("We are about to park your Vehicle of type " + vehicle.getVehicleType());

		if (vehicle.getVehicleType().equals(VehicleType.TRUCK)) {

			if (freeLargeSpots > 0) {
				parkYourLargeVehicle();
			} else {
				System.out.println("Sorry all Large spots are FULL");
			}

		} else if (vehicle.getVehicleType().equals(VehicleType.CAR)) {

			if (freeCompactSpots > 0) {

				parkYourCompactVehicle();

			} else if (freeLargeSpots > 0) {

				parkYourCompactVehicle();
			} else {
				System.out.println("Sorry neither Large Or Compact spots Available");
			}

		} else if (vehicle.getVehicleType().equals(VehicleType.BIKE)) {

			if (freeBiketSpots > 0) {

				parkYourBikeVehicle();

			} else if (freeCompactSpots > 0) {

				parkYourCompactVehicle();
			} else if (freeLargeSpots > 0) {

				parkYourCompactVehicle();

			} else {
				System.out.println("Sorry neither Large Or Compact or Bike spots Available");
			}

		}
	}

	void parkYourLargeVehicle(Vehicle vehicle){
		
		LargeSpot largeSpot = new LargeSpot(ParkingSpotType.LARGE);
		largeSpot.setFree(false);
		largeSpot.setVehicle(vehicle);
		vehicle.setParkingSpot(largeSpot);
		
		largeSpotsList.add(largeSpot);
		
		
	}
	// UnParkVehicle

}
